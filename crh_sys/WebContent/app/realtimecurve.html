<!DOCTYPE HTML>
<html manifest="" lang="en-US">
<head>
    <meta charset="UTF-8">
    <title>Application</title>
    <link rel="stylesheet" href="./resources/css/ext-all.css" />

	<script type="text/javascript" charset="utf-8" src="./packages/main/ext-all-dev.js"></script>
	<script type="text/javascript">
		Ext.require('Ext.chart.*');
		Ext.require('Ext.data.*');
		Ext.onReady(function(){
			
				


Ext.define("MyApp.model.realTimeData.RealTimeData",{
	extend : 'Ext.data.Model',
	fields:[
		{name:'id', type:'int'},
		{name:'engineId', type:'int'},
		{name:'crhNo', type:'string'},
		{name:'ybdianya', type:'float'},
		{name:'ybdianliu', type:'float'},
		{name:'kzdianya', type:'float'},
		{name:'zjdianya', type:'float'},
		{name:'djdianliu', type:'float'},
		{name:'djpinlv', type:'float'},
		{name:'qyzhidongli', type:'float'},
		{name:'speed', type:'float'},
		{name:'jiasudu', type:'float'},
		{name:'temperature', type:'float'},
	  	{name:'zdxinhao', type:'float'},
	  	{name:'dzdianliu', type:'float'},
	  	{name:'dateTime', type:'date',dateFormat:'Y-m-d H:i:s'}
	]
});
Ext.define('MyApp.store.realTimeDatas.RealTimeDatas', {
    extend      : 'Ext.data.Store',
	alias       : 'store.realTimeDatas',
	model		: 'MyApp.model.realTimeData.RealTimeData',

	proxy		: {
		type	: 'ajax',
		url		: 'serverside/realTimeDatas/list.json',
		reader	: {
			type	: 'json',
			root	: 'data'
		}
	},
	autoLoad : true
});



Ext.define("MyApp.view.relCurve.RealCurveChart",{
	extend : 'Ext.chart.Chart',
   	style: 'background:#fff',
 	itemId: 'chartCmp',
	//store : store,
   	shadow: false,
	animate: true,
   	
 	axes : [
 		{
 			type: 'Numeric',
    		minimum: 0,
    		position: 'left',
    		fields : ['ybdianya'],
			title : '原边电压',
    		grid: {
    			odd: {
    				fill: '#dedede',
    				stroke: '#ddd',
    				'stroke-width': 0.5
    			}
    		}	
   		},
   		{
   			type: 'Time',
   			position: 'bottom',
   			fields: 'date',
    		title: false,
    		dateFormat: 's',
   			groupBy: 'year,month,day',
 			aggregateOp: 'sum',
   			constrain: true,
    		fromDate: new Date(2011, 1, 1),
    		toDate: new Date(2011, 1, 7),
  			grid: true
   		}
 	],
 	series :
 	[
 		{
 			type: 'line',
    		smooth: true,
    		axis: ['left', 'bottom'],
    		xField: 'date',
    		yField : 'ybdianya',
    		label: {
       			display: 'none',
       			field: 'visits',
       			renderer: function(v) { return v >> 0; },
       			'text-anchor': 'middle'
    		},
    		markerConfig: {
    			radius: 5,
    			size: 5,
    			'fill': '#f00'
    		}
 		}
 	]
 });

Ext.define('MyApp.view.relCurve.RealCurveChartPanel', {
    extend : 'Ext.panel.Panel',
    width: 350,
    height: 250,
    minHeight: 200,
    minWidth: 150,
    title: 'Live Animated Chart',
    header : false,
    layout: 'fit'
});


	var generalStore = Ext.create("MyApp.store.realTimeDatas.RealTimeDatas",{});
	var chartArray = [], timeAxisArray = [], valueArray = [];
	
	valueArray[0] = 0;
	valueArray[1] = 0;
	valueArray[2] = 0;
	valueArray[3] = 0;
	valueArray[4] = 0;
	valueArray[5] = 0;
	valueArray[6] = 0;
	valueArray[7] = 0;
	valueArray[8] = 0;
	valueArray[9] = 0;
	valueArray[10] = 0;
	valueArray[11] = 0;
    
    generalStore.on('load',function(){
    	valueArray[0] = generalStore.getAt(0).get('ybdianya');
    	valueArray[1] = generalStore.getAt(0).get('ybdianliu');
    	valueArray[2] = generalStore.getAt(0).get('kzdianya');
    	valueArray[3] = generalStore.getAt(0).get('zjdianya');
    	valueArray[4] = generalStore.getAt(0).get('djdianliu');
    	valueArray[5] = generalStore.getAt(0).get('djpinlv');
    	valueArray[6] = generalStore.getAt(0).get('qyzhidongli');
    	valueArray[7] = generalStore.getAt(0).get('speed');
    	valueArray[8] = generalStore.getAt(0).get('jiasudu');
    	valueArray[9] = generalStore.getAt(0).get('temperature');
    	valueArray[10] = generalStore.getAt(0).get('zdxinhao');
    	valueArray[11] = generalStore.getAt(0).get('dzdianliu');
    })
    
    
    var generateYbdianyaData = (function() {
        var data = [], i = 0,
            date = new Date(2011, 1, 1);
        return function() {
            data = data.slice();
            data.push({
                date:  Ext.Date.add(date, Ext.Date.DAY, i++),
                ybdianya: valueArray[0]
            });
            return data;
        };
    })();

	
	var generateYbdianliuData = (function() {
        var data = [], i = 0,
            date = new Date(2011, 1, 1);
        return function() {
            data = data.slice();
            data.push({
            	date : Ext.Date.add(date, Ext.Date.DAY, i++),
                ybdianliu: valueArray[1]
            });
            return data;
        };
    })();
    
    var generateKzdianyaData = (function() {
        var data = [], i = 0,
            date = new Date(2011, 1, 1);
        return function() {
            data = data.slice();
            data.push({
            	date : Ext.Date.add(date, Ext.Date.DAY, i++),
                kzdianya: valueArray[2]
            });
            return data;
        };
    })();
    
    var generateZjdianyaData = (function() {
        var data = [], i = 0,
            date = new Date(2011, 1, 1);
        return function() {
            data = data.slice();
            data.push({
            	date : Ext.Date.add(date, Ext.Date.DAY, i++),
                zjdianya: valueArray[3]
            });
            return data;
        };
    })();
    
    var generateDjdianliuData = (function() {
        var data = [], i = 0,
            date = new Date(2011, 1, 1);
        return function() {
            data = data.slice();
            data.push({
            	date : Ext.Date.add(date, Ext.Date.DAY, i++),
                djdianliu: valueArray[4]
            });
            return data;
        };
    })();
    
    var generateDjpinlvData = (function() {
        var data = [], i = 0,
            date = new Date(2011, 1, 1);
        return function() {
            data = data.slice();
            data.push({
            	date : Ext.Date.add(date, Ext.Date.DAY, i++),
                djpinlv: valueArray[5]
            });
            return data;
        };
    })();
    
    var generateQyzhidongliData = (function() {
        var data = [], i = 0,
            date = new Date(2011, 1, 1);
        return function() {
            data = data.slice();
            data.push({
            	date : Ext.Date.add(date, Ext.Date.DAY, i++),
                qyzhidongli: valueArray[6]
            });
            return data;
        };
    })();
    
    var generateSpeedData = (function() {
        var data = [], i = 0,
            date = new Date(2011, 1, 1);
        return function() {
            data = data.slice();
            data.push({
            	date : Ext.Date.add(date, Ext.Date.DAY, i++),
                speed: valueArray[7]
            });
            return data;
        };
    })();
    
    var generateJiasuduData = (function() {
        var data = [], i = 0,
            date = new Date(2011, 1, 1);
        return function() {
            data = data.slice();
            data.push({
            	date : Ext.Date.add(date, Ext.Date.DAY, i++),
                jiasudu: valueArray[8]
            });
            return data;
        };
    })();
    
    var generateTemperatureData = (function() {
        var data = [], i = 0,
            date = new Date(2011, 1, 1);
        return function() {
            data = data.slice();
            data.push({
            	date : Ext.Date.add(date, Ext.Date.DAY, i++),
                temperature: valueArray[9]
            });
            return data;
        };
    })();
    
    var generateZdxinhaoData = (function() {
        var data = [], i = 0,
            date = new Date(2011, 1, 1);
        return function() {
            data = data.slice();
            data.push({
            	date : Ext.Date.add(date, Ext.Date.DAY, i++),
                zdxinhao: valueArray[10]
            });
            return data;
        };
    })();
    
    var generateDzdianliuData = (function() {
        var data = [], i = 0,
            date = new Date(2011, 1, 1);
        return function() {
            data = data.slice();
            data.push({
            	date : Ext.Date.add(date, Ext.Date.DAY, i++),
                dzdianliu: valueArray[11]
            });
            return data;
        };
    })();
    

	var ybdianyaStore = Ext.create('Ext.data.JsonStore', {
        fields: ['date', 'ybdianya'],
        data: generateYbdianyaData()
    });
    var ybdianliuStore = Ext.create('Ext.data.JsonStore', {
        fields: ['date','ybdianliu'],
        data: generateYbdianliuData()
    });
    var kzdianyaStore = Ext.create('Ext.data.JsonStore', {
        fields: ['date', 'kzdianya'],
        data: generateKzdianyaData()
    });
    var zjdianyaStore = Ext.create('Ext.data.JsonStore', {
        fields: ['date', 'zjdianya'],
        data: generateZjdianyaData()
    });
    var djdianliuStore = Ext.create('Ext.data.JsonStore', {
        fields: ['date', 'djdianliu'],
        data: generateDjdianliuData()
    });
    var djpinlvStore = Ext.create('Ext.data.JsonStore', {
        fields: ['date', 'djpinlv'],
        data: generateDjpinlvData()
    });
    var qyzhidongliStore = Ext.create('Ext.data.JsonStore', {
        fields: ['date', 'qyzhidongli'],
        data: generateQyzhidongliData()
    });
    var speedStore = Ext.create('Ext.data.JsonStore', {
        fields: ['date', 'speed'],
        data: generateSpeedData()
    });
    var jiasuduStore = Ext.create('Ext.data.JsonStore', {
        fields: ['date', 'jiasudu'],
        data: generateJiasuduData()
    });
    var temperatureStore = Ext.create('Ext.data.JsonStore', {
        fields: ['date', 'temperature'],
        data: generateTemperatureData()
    });
    var zdxinhaoStore = Ext.create('Ext.data.JsonStore', {
        fields: ['date', 'zdxinhao'],
        data: generateZdxinhaoData()
    });
    var dzdianliuStore = Ext.create('Ext.data.JsonStore', {
        fields: ['date', 'dzdianliu'],
        data: generateDzdianliuData()
    });
    

    var intr = setInterval(function() {
        var gs = generateYbdianyaData();
        var gs2 = generateYbdianliuData();
        var gs3 = generateKzdianyaData();
        var gs4 = generateZjdianyaData();
        var gs5 = generateDjdianliuData();
        var gs6 = generateDjpinlvData();
        var gs7 = generateQyzhidongliData();
        var gs8 = generateSpeedData();
        var gs9 = generateJiasuduData();
        var gs10 = generateTemperatureData();
		var gs11 = generateZdxinhaoData();
		var gs12 = generateDzdianliuData();
		
        var toDate = timeAxisArray[0].toDate,
            lastDate = gs[gs.length - 1].date,
            markerIndex = chartArray[0].markerIndex || 0;
        if (toDate < lastDate) {
            markerIndex = 1;
            timeAxisArray[0].toDate = lastDate;
            timeAxisArray[0].fromDate = Ext.Date.add(Ext.Date.clone(timeAxisArray[0].fromDate), Ext.Date.DAY, 1);
            chartArray[0].markerIndex = markerIndex;
            timeAxisArray[1].toDate = timeAxisArray[0].toDate;
            timeAxisArray[1].fromDate = timeAxisArray[0].fromDate;
            chartArray[1].markerIndex = markerIndex;
            
            timeAxisArray[2].toDate = timeAxisArray[0].toDate;
            timeAxisArray[2].fromDate = timeAxisArray[0].fromDate;
            chartArray[2].markerIndex = markerIndex;
            
            timeAxisArray[3].toDate = timeAxisArray[0].toDate;
            timeAxisArray[3].fromDate = timeAxisArray[0].fromDate;
            chartArray[3].markerIndex = markerIndex;
            
            timeAxisArray[4].toDate = timeAxisArray[0].toDate;
            timeAxisArray[4].fromDate = timeAxisArray[0].fromDate;
            chartArray[4].markerIndex = markerIndex;
            
            timeAxisArray[5].toDate = timeAxisArray[0].toDate;
            timeAxisArray[5].fromDate = timeAxisArray[0].fromDate;
            chartArray[5].markerIndex = markerIndex;
            
            timeAxisArray[6].toDate = timeAxisArray[0].toDate;
            timeAxisArray[6].fromDate = timeAxisArray[0].fromDate;
            chartArray[6].markerIndex = markerIndex;
            
            timeAxisArray[7].toDate = timeAxisArray[0].toDate;
            timeAxisArray[7].fromDate = timeAxisArray[0].fromDate;
            chartArray[7].markerIndex = markerIndex;
            
            timeAxisArray[8].toDate = timeAxisArray[0].toDate;
            timeAxisArray[8].fromDate = timeAxisArray[0].fromDate;
            chartArray[8].markerIndex = markerIndex;
            
            timeAxisArray[9].toDate = timeAxisArray[0].toDate;
            timeAxisArray[9].fromDate = timeAxisArray[0].fromDate;
            chartArray[9].markerIndex = markerIndex;
            
            timeAxisArray[10].toDate = timeAxisArray[0].toDate;
            timeAxisArray[10].fromDate = timeAxisArray[0].fromDate;
            chartArray[10].markerIndex = markerIndex;
            
            timeAxisArray[11].toDate = timeAxisArray[0].toDate;
            timeAxisArray[11].fromDate = timeAxisArray[0].fromDate;
            chartArray[11].markerIndex = markerIndex;
        }
        ybdianyaStore.loadData(gs);
        ybdianliuStore.loadData(gs2);
        kzdianyaStore.loadData(gs3);
        zjdianyaStore.loadData(gs4);
        djdianliuStore.loadData(gs5);
        djpinlvStore.loadData(gs6);
        qyzhidongliStore.loadData(gs7);
        speedStore.loadData(gs8);
        jiasuduStore.loadData(gs9);
        temperatureStore.loadData(gs10);
        zdxinhaoStore.loadData(gs11);
        dzdianliuStore.loadData(gs12);
    }, 1000);
    
    
    
    var intr2 = setInterval(function(){
    	generalStore.load();
    },8500);


var ybdianyaChart = Ext.create("MyApp.view.relCurve.RealCurveChart",{
	store : ybdianyaStore
});
var ybdianyaPanel = Ext.create("MyApp.view.relCurve.RealCurveChartPanel",{
	items : [ybdianyaChart],
});

var ybdianliuChart = Ext.create("MyApp.view.relCurve.RealCurveChart",{
	store : ybdianliuStore,
	axes : [
 		{
 			type: 'Numeric',
    		minimum: 0,
    		position: 'left',
    		fields : ['ybdianliu'],
			title : '原边电流',
    		grid: {
    			odd: {
    				fill: '#dedede',
    				stroke: '#ddd',
    				'stroke-width': 0.5
    			}
    		}	
   		},
   		{
   			type: 'Time',
   			position: 'bottom',
   			fields: 'date',
    		title: false,
    		dateFormat: 's',
   			groupBy: 'year,month,day',
 			aggregateOp: 'sum',
   			constrain: true,
    		fromDate: new Date(2011, 1, 1),
    		toDate: new Date(2011, 1, 7),
  			grid: true
   		}
 	],
 	series :
 	[
 		{
 			type: 'line',
    		smooth: true,
    		axis: ['left', 'bottom'],
    		xField: 'date',
    		yField : 'ybdianliu',
    		label: {
       			display: 'none',
       			field: 'ybdianliu',
       			renderer: function(v) { return v >> 0; },
       			'text-anchor': 'middle'
    		},
    		markerConfig: {
    			radius: 5,
    			size: 5,
    			'fill': '#f55'
    		}
 		}
 	]
});

var kzdianyaChart = Ext.create("MyApp.view.relCurve.RealCurveChart",{
	store : kzdianyaStore,
	axes : [
 		{
 			type: 'Numeric',
    		minimum: 0,
    		position: 'left',
    		fields : ['kzdianya'],
			title : '控制电压',
    		grid: {
    			odd: {
    				fill: '#dedede',
    				stroke: '#ddd',
    				'stroke-width': 0.5
    			}
    		}	
   		},
   		{
   			type: 'Time',
   			position: 'bottom',
   			fields: 'date',
    		title: false,
    		dateFormat: 's',
   			groupBy: 'year,month,day',
 			aggregateOp: 'sum',
   			constrain: true,
    		fromDate: new Date(2011, 1, 1),
    		toDate: new Date(2011, 1, 7),
  			grid: true
   		}
 	],
 	series :
 	[
 		{
 			type: 'line',
    		smooth: true,
    		axis: ['left', 'bottom'],
    		xField: 'date',
    		yField : 'kzdianya',
    		label: {
       			display: 'none',
       			field: 'kzdianya',
       			renderer: function(v) { return v >> 0; },
       			'text-anchor': 'middle'
    		},
    		markerConfig: {
    			radius: 5,
    			size: 5,
    			'fill': '#255'
    		}
 		}
 	]
});

var zjdianyaChart = Ext.create("MyApp.view.relCurve.RealCurveChart",{
	store : zjdianyaStore,
	axes : [
 		{
 			type: 'Numeric',
    		minimum: 0,
    		position: 'left',
    		fields : ['zjdianya'],
			title : '中间电压',
    		grid: {
    			odd: {
    				fill: '#dedede',
    				stroke: '#ddd',
    				'stroke-width': 0.5
    			}
    		}	
   		},
   		{
   			type: 'Time',
   			position: 'bottom',
   			fields: 'date',
    		title: false,
    		dateFormat: 's',
   			groupBy: 'year,month,day',
 			aggregateOp: 'sum',
   			constrain: true,
    		fromDate: new Date(2011, 1, 1),
    		toDate: new Date(2011, 1, 7),
  			grid: true
   		}
 	],
 	series :
 	[
 		{
 			type: 'line',
    		smooth: true,
    		axis: ['left', 'bottom'],
    		xField: 'date',
    		yField : 'zjdianya',
    		label: {
       			display: 'none',
       			field: 'zjdianya',
       			renderer: function(v) { return v >> 0; },
       			'text-anchor': 'middle'
    		},
    		markerConfig: {
    			radius: 5,
    			size: 5,
    			'fill': '#355'
    		}
 		}
 	]
});

var djdianliuChart = Ext.create("MyApp.view.relCurve.RealCurveChart",{
	store : djdianliuStore,
	axes : [
 		{
 			type: 'Numeric',
    		minimum: 0,
    		position: 'left',
    		fields : ['djdianliu'],
			title : '电机电流',
    		grid: {
    			odd: {
    				fill: '#dedede',
    				stroke: '#ddd',
    				'stroke-width': 0.5
    			}
    		}	
   		},
   		{
   			type: 'Time',
   			position: 'bottom',
   			fields: 'date',
    		title: false,
    		dateFormat: 's',
   			groupBy: 'year,month,day',
 			aggregateOp: 'sum',
   			constrain: true,
    		fromDate: new Date(2011, 1, 1),
    		toDate: new Date(2011, 1, 7),
  			grid: true
   		}
 	],
 	series :
 	[
 		{
 			type: 'line',
    		smooth: true,
    		axis: ['left', 'bottom'],
    		xField: 'date',
    		yField : 'djdianliu',
    		label: {
       			display: 'none',
       			field: 'djdianliu',
       			renderer: function(v) { return v >> 0; },
       			'text-anchor': 'middle'
    		},
    		markerConfig: {
    			radius: 5,
    			size: 5,
    			'fill': '#455'
    		}
 		}
 	]
});

var djpinlvChart = Ext.create("MyApp.view.relCurve.RealCurveChart",{
	store : djpinlvStore,
	axes : [
 		{
 			type: 'Numeric',
    		minimum: 0,
    		position: 'left',
    		fields : ['djpinlv'],
			title : '电机频率',
    		grid: {
    			odd: {
    				fill: '#dedede',
    				stroke: '#ddd',
    				'stroke-width': 0.5
    			}
    		}	
   		},
   		{
   			type: 'Time',
   			position: 'bottom',
   			fields: 'date',
    		title: false,
    		dateFormat: 's',
   			groupBy: 'year,month,day',
 			aggregateOp: 'sum',
   			constrain: true,
    		fromDate: new Date(2011, 1, 1),
    		toDate: new Date(2011, 1, 7),
  			grid: true
   		}
 	],
 	series :
 	[
 		{
 			type: 'line',
    		smooth: true,
    		axis: ['left', 'bottom'],
    		xField: 'date',
    		yField : 'djpinlv',
    		label: {
       			display: 'none',
       			field: 'djpinlv',
       			renderer: function(v) { return v >> 0; },
       			'text-anchor': 'middle'
    		},
    		markerConfig: {
    			radius: 5,
    			size: 5,
    			'fill': '#555'
    		}
 		}
 	]
});

var qyzhidongliChart = Ext.create("MyApp.view.relCurve.RealCurveChart",{
	store : qyzhidongliStore,
	axes : [
 		{
 			type: 'Numeric',
    		minimum: 0,
    		position: 'left',
    		fields : ['qyzhidongli'],
			title : '牵引/制动力',
    		grid: {
    			odd: {
    				fill: '#dedede',
    				stroke: '#ddd',
    				'stroke-width': 0.5
    			}
    		}	
   		},
   		{
   			type: 'Time',
   			position: 'bottom',
   			fields: 'date',
    		title: false,
    		dateFormat: 's',
   			groupBy: 'year,month,day',
 			aggregateOp: 'sum',
   			constrain: true,
    		fromDate: new Date(2011, 1, 1),
    		toDate: new Date(2011, 1, 7),
  			grid: true
   		}
 	],
 	series :
 	[
 		{
 			type: 'line',
    		smooth: true,
    		axis: ['left', 'bottom'],
    		xField: 'date',
    		yField : 'qyzhidongli',
    		label: {
       			display: 'none',
       			field: 'qyzhidongli',
       			renderer: function(v) { return v >> 0; },
       			'text-anchor': 'middle'
    		},
    		markerConfig: {
    			radius: 5,
    			size: 5,
    			'fill': '#655'
    		}
 		}
 	]
});

var speedChart = Ext.create("MyApp.view.relCurve.RealCurveChart",{
	store : speedStore,
	axes : [
 		{
 			type: 'Numeric',
    		minimum: 0,
    		position: 'left',
    		fields : ['speed'],
			title : '速度',
    		grid: {
    			odd: {
    				fill: '#dedede',
    				stroke: '#ddd',
    				'stroke-width': 0.5
    			}
    		}	
   		},
   		{
   			type: 'Time',
   			position: 'bottom',
   			fields: 'date',
    		title: false,
    		dateFormat: 's',
   			groupBy: 'year,month,day',
 			aggregateOp: 'sum',
   			constrain: true,
    		fromDate: new Date(2011, 1, 1),
    		toDate: new Date(2011, 1, 7),
  			grid: true
   		}
 	],
 	series :
 	[
 		{
 			type: 'line',
    		smooth: true,
    		axis: ['left', 'bottom'],
    		xField: 'date',
    		yField : 'speed',
    		label: {
       			display: 'none',
       			field: 'speed',
       			renderer: function(v) { return v >> 0; },
       			'text-anchor': 'middle'
    		},
    		markerConfig: {
    			radius: 5,
    			size: 5,
    			'fill': '#755'
    		}
 		}
 	]
});

var jiasuduChart = Ext.create("MyApp.view.relCurve.RealCurveChart",{
	store : jiasuduStore,
	axes : [
 		{
 			type: 'Numeric',
    		minimum: 0,
    		position: 'left',
    		fields : ['jiasudu'],
			title : '加速度',
    		grid: {
    			odd: {
    				fill: '#dedede',
    				stroke: '#ddd',
    				'stroke-width': 0.5
    			}
    		}	
   		},
   		{
   			type: 'Time',
   			position: 'bottom',
   			fields: 'date',
    		title: false,
    		dateFormat: 's',
   			groupBy: 'year,month,day',
 			aggregateOp: 'sum',
   			constrain: true,
    		fromDate: new Date(2011, 1, 1),
    		toDate: new Date(2011, 1, 7),
  			grid: true
   		}
 	],
 	series :
 	[
 		{
 			type: 'line',
    		smooth: true,
    		axis: ['left', 'bottom'],
    		xField: 'date',
    		yField : 'jiasudu',
    		label: {
       			display: 'none',
       			field: 'jiasudu',
       			renderer: function(v) { return v >> 0; },
       			'text-anchor': 'middle'
    		},
    		markerConfig: {
    			radius: 5,
    			size: 5,
    			'fill': '#855'
    		}
 		}
 	]
});

var temperatureChart = Ext.create("MyApp.view.relCurve.RealCurveChart",{
	store : temperatureStore,
	axes : [
 		{
 			type: 'Numeric',
    		minimum: 0,
    		position: 'left',
    		fields : ['temperature'],
			title : '温度',
    		grid: {
    			odd: {
    				fill: '#dedede',
    				stroke: '#ddd',
    				'stroke-width': 0.5
    			}
    		}	
   		},
   		{
   			type: 'Time',
   			position: 'bottom',
   			fields: 'date',
    		title: false,
    		dateFormat: 's',
   			groupBy: 'year,month,day',
 			aggregateOp: 'sum',
   			constrain: true,
    		fromDate: new Date(2011, 1, 1),
    		toDate: new Date(2011, 1, 7),
  			grid: true
   		}
 	],
 	series :
 	[
 		{
 			type: 'line',
    		smooth: true,
    		axis: ['left', 'bottom'],
    		xField: 'date',
    		yField : 'temperature',
    		label: {
       			display: 'none',
       			field: 'temperature',
       			renderer: function(v) { return v >> 0; },
       			'text-anchor': 'middle'
    		},
    		markerConfig: {
    			radius: 5,
    			size: 5,
    			'fill': '#955'
    		}
 		}
 	]
});

var zdxinhaoChart = Ext.create("MyApp.view.relCurve.RealCurveChart",{
	store : zdxinhaoStore,
	axes : [
 		{
 			type: 'Numeric',
    		minimum: 0,
    		position: 'left',
    		fields : ['zdxinhao'],
			title : '振动信号',
    		grid: {
    			odd: {
    				fill: '#dedede',
    				stroke: '#ddd',
    				'stroke-width': 0.5
    			}
    		}	
   		},
   		{
   			type: 'Time',
   			position: 'bottom',
   			fields: 'date',
    		title: false,
    		dateFormat: 's',
   			groupBy: 'year,month,day',
 			aggregateOp: 'sum',
   			constrain: true,
    		fromDate: new Date(2011, 1, 1),
    		toDate: new Date(2011, 1, 7),
  			grid: true
   		}
 	],
 	series :
 	[
 		{
 			type: 'line',
    		smooth: true,
    		axis: ['left', 'bottom'],
    		xField: 'date',
    		yField : 'zdxinhao',
    		label: {
       			display: 'none',
       			field: 'zdxinhao',
       			renderer: function(v) { return v >> 0; },
       			'text-anchor': 'middle'
    		},
    		markerConfig: {
    			radius: 5,
    			size: 5,
    			'fill': '#a55'
    		}
 		}
 	]
});

var dzdianliuChart = Ext.create("MyApp.view.relCurve.RealCurveChart",{
	store : dzdianliuStore,
	axes : [
 		{
 			type: 'Numeric',
    		minimum: 0,
    		position: 'left',
    		fields : ['dzdianliu'],
			title : '定子电流',
    		grid: {
    			odd: {
    				fill: '#dedede',
    				stroke: '#ddd',
    				'stroke-width': 0.5
    			}
    		}	
   		},
   		{
   			type: 'Time',
   			position: 'bottom',
   			fields: 'date',
    		title: false,
    		dateFormat: 's',
   			groupBy: 'year,month,day',
 			aggregateOp: 'sum',
   			constrain: true,
    		fromDate: new Date(2011, 1, 1),
    		toDate: new Date(2011, 1, 7),
  			grid: true
   		}
 	],
 	series :
 	[
 		{
 			type: 'line',
    		smooth: true,
    		axis: ['left', 'bottom'],
    		xField: 'date',
    		yField : 'dzdianliu',
    		label: {
       			display: 'none',
       			field: 'dzdianliu',
       			renderer: function(v) { return v >> 0; },
       			'text-anchor': 'middle'
    		},
    		markerConfig: {
    			radius: 5,
    			size: 5,
    			'fill': '#b55'
    		}
 		}
 	]
});

var ybdianliuPanel = Ext.create("MyApp.view.relCurve.RealCurveChartPanel",{
	items : [ybdianliuChart]
});
var kzdianyaPanel = Ext.create("MyApp.view.relCurve.RealCurveChartPanel",{
	items : [kzdianyaChart]
});
var zjdianyaPanel = Ext.create("MyApp.view.relCurve.RealCurveChartPanel",{
	items : [zjdianyaChart]
});
var djdianliuPanel = Ext.create("MyApp.view.relCurve.RealCurveChartPanel",{
	items : [djdianliuChart]
});
var djpinlvPanel = Ext.create("MyApp.view.relCurve.RealCurveChartPanel",{
	items : [djpinlvChart]
});
var qyzhidongliPanel = Ext.create("MyApp.view.relCurve.RealCurveChartPanel",{
	items : [qyzhidongliChart]
});
var speedPanel = Ext.create("MyApp.view.relCurve.RealCurveChartPanel",{
	items : [speedChart]
});
var jiasuduPanel = Ext.create("MyApp.view.relCurve.RealCurveChartPanel",{
	items : [jiasuduChart]
});
var temperaturePanel = Ext.create("MyApp.view.relCurve.RealCurveChartPanel",{
	items : [temperatureChart]
});
var zdxinhaoPanel = Ext.create("MyApp.view.relCurve.RealCurveChartPanel",{
	items : [zdxinhaoChart]
});
var dzdianliuPanel = Ext.create("MyApp.view.relCurve.RealCurveChartPanel",{
	items : [dzdianliuChart]
});

var win = Ext.create("Ext.panel.Panel",{
		width : 1600,
    	height: 770,
    	items : [
    		ybdianyaPanel,ybdianliuPanel,kzdianyaPanel,zjdianyaPanel,djdianliuPanel,djpinlvPanel,qyzhidongliPanel,speedPanel,jiasuduPanel,temperaturePanel,zdxinhaoPanel,dzdianliuPanel
    	],
    	layout: {
    		type : 'table',
    		columns : 4
    	},
    	renderTo : Ext.getBody()
});

	chartArray[0] = ybdianyaChart;
	chartArray[1] = ybdianliuChart;
	chartArray[2] = kzdianyaChart;
	chartArray[3] = zjdianyaChart;
	chartArray[4] = djdianliuChart;
	chartArray[5] = djpinlvChart;
	chartArray[6] = qyzhidongliChart;
	chartArray[7] = speedChart;
	chartArray[8] = jiasuduChart;
	chartArray[9] = temperatureChart;
	chartArray[10] = zdxinhaoChart;
	chartArray[11] = dzdianliuChart;

    timeAxisArray[0] = chartArray[0].axes.get(1);
    timeAxisArray[1] = chartArray[1].axes.get(1);
    timeAxisArray[2] = chartArray[2].axes.get(1);
    timeAxisArray[3] = chartArray[3].axes.get(1);
    timeAxisArray[4] = chartArray[4].axes.get(1);
    timeAxisArray[5] = chartArray[5].axes.get(1);
    timeAxisArray[6] = chartArray[6].axes.get(1);
    timeAxisArray[7] = chartArray[7].axes.get(1);
    timeAxisArray[8] = chartArray[8].axes.get(1);
    timeAxisArray[9] = chartArray[9].axes.get(1);
    timeAxisArray[10] = chartArray[10].axes.get(1);
    timeAxisArray[11] = chartArray[11].axes.get(1);

			
		});
	

	</script>
</head>
<body>
    
</body>
</html>